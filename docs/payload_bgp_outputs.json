{
  "input": {
    "task": "Return ONLY JSON in summary",
    "message": "Output MUST be wrapped exactly like this:\nBEGIN_JSON\n<single JSON object>\nEND_JSON\n\nDo NOT write anything outside the markers.\n\nJSON schema:\n{\n  \"issue_summary\": \"string\",\n  \"bgp_state_detected\": \"string\",\n  \"most_likely_root_cause\": \"string\",\n  \"confidence\": 0.0,\n  \"evidence\": [\"string\"],\n  \"next_commands_nxos\": [\"string\"],\n  \"next_commands_iosxe\": [\"string\"],\n  \"safe_fix_steps\": [\"string\"],\n  \"verification_steps\": [\"string\"]\n}\n\nRules:\n- Quote exact lines from the outputs as evidence.\n- If Established + prefixes exchanged -> HEALTHY: root cause must be \"No issue detected (session Established and routes exchanged)\", confidence >= 0.9.\n- next_commands arrays must include 3-5 commands each.\n\nReturn ONLY valid JSON (no prose, no markdown). If you output anything else, the output is considered invalid.\nYour entire output must be a single JSON object that matches the schema exactly.\nDo not include explanations.\n\nReturn ONLY valid JSON. No prose. No markdown. No extra keys.\n\nJSON schema:\n{\n  \"issue_summary\": \"string\",\n  \"bgp_state_detected\": \"string\",\n  \"most_likely_root_cause\": \"string\",\n  \"confidence\": 0.0,\n  \"evidence\": [\"string\"],\n  \"next_commands_nxos\": [\"string\"],\n  \"next_commands_iosxe\": [\"string\"],\n  \"safe_fix_steps\": [\"string\"],\n  \"verification_steps\": [\"string\"]\n}\n\nRules:\n- Quote EXACT lines from the outputs below in evidence.\n- If Established and prefixes exchanged: mark HEALTHY, confidence >= 0.9, root cause = \"No issue detected (session Established and routes exchanged)\".\n- next_commands must not be empty: include 3-5 best follow-up commands per device.\n\nNX-OS outputs:\nshow bgp ipv4 unicast summary\nNeighbor 10.0.0.2 ... Up/Down 00:02:04 State/PfxRcd 1\n\nshow bgp ipv4 unicast | inc 1.1.1.1|2.2.2.2\n*>l1.1.1.1/32         0.0.0.0                           100      32768 i\n*>e2.2.2.2/32         10.0.0.2                 0                     0 65002 i\n\nRouter outputs:\nshow ip bgp summary\nNeighbor 10.0.0.1 ... Up/Down 00:02:38 State/PfxRcd 1\n\nshow ip bgp | inc 1.1.1.1|2.2.2.2\n*>   1.1.1.1/32       10.0.0.1                               0 65001 i\n*>   2.2.2.2/32       0.0.0.0                  0         32768 i\n\nshow ip route 1.1.1.1\nKnown via \"bgp 65002\" ...\n  * 10.0.0.1, from 10.0.0.1\n"
  }
}